<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barista&Paws Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Pacifico&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #6D5D4B; /* Coffee-brown background */
        }
        .calculator-container {
            background: #F4EAD5; /* Creamy latte color */
            border-radius: 2rem;
            padding: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
            border: 4px solid #4E3629; /* Dark chocolate border */
        }
        .title {
            font-family: 'Pacifico', cursive;
            color: #4E3629;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.7);
        }
        .display {
            font-family: 'Orbitron', sans-serif; /* Digital calculator font */
            background: #B2C8BA; /* A muted green, like a matcha latte */
            color: #2F3E46;
            border: 2px solid #4E3629;
            box-shadow: inset 3px 3px 6px #8a9e90, inset -3px -3px 6px #dafff4;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.4);
            word-wrap: break-word; /* Ensure long words break */
            transition: all 0.3s ease;
        }
        .display.special-answer {
            animation: specialPulse 0.6s ease-in-out;
            background: linear-gradient(135deg, #FFE5B4, #FFD700);
            color: #8B4513;
        }
        @keyframes specialPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .btn {
            border-radius: 9999px; /* Circular buttons */
            font-weight: 500;
            transition: all 0.2s ease-in-out;
            border: 1px solid rgba(0,0,0,0.1);
            min-height: 3.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn:active {
            transform: scale(0.95);
            box-shadow: inset 3px 3px 7px rgba(0,0,0,0.25);
        }
        .btn:focus {
            outline: 2px solid #4E3629;
            outline-offset: 2px;
        }
        .btn-number {
            background-color: #fff;
            color: #4E3629;
        }
        .btn-number:hover {
            background-color: #f7f3e9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .btn-operator {
            background-color: #E57F84; /* A soft reddish color, like a strawberry treat */
            color: white;
        }
        .btn-operator:hover {
            background-color: #d8686e;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .btn-equals {
            background-color: #A0CFA2; /* A friendly green */
            color: white;
        }
        .btn-equals:hover {
            background-color: #8dbd90;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .btn-clear {
            background-color: #F3A712; /* A warm orange */
            color: white;
        }
        .btn-clear:hover {
            background-color: #df980b;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .btn-backspace {
            background-color: #FF6B6B; /* A soft red */
            color: white;
        }
        .btn-backspace:hover {
            background-color: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .coffee-icon {
            display: inline-block;
            margin-right: 0.5rem;
            font-size: 1.5rem;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="calculator-container w-full max-w-xs md:max-w-sm mx-auto">
        <!-- Title -->
        <h1 class="title text-3xl text-center mb-4">
            <span class="coffee-icon">‚òïüêæ</span>Barista&Paws Calculator
        </h1>
        
        <!-- Display -->
        <div id="display" class="display w-full h-24 rounded-lg mb-6 flex items-center justify-end text-5xl p-5 overflow-hidden text-right" role="textbox" aria-label="Calculator display">
            0
        </div>

        <!-- Buttons Grid -->
        <div class="grid grid-cols-4 gap-3">
            <!-- Row 1 -->
            <button class="btn btn-clear text-2xl p-4" onclick="clearDisplay()" aria-label="Clear">C</button>
            <button class="btn btn-backspace text-2xl p-4" onclick="backspace()" aria-label="Backspace">‚å´</button>
            <button class="btn btn-operator text-2xl p-4" onclick="appendInput('/')" aria-label="Divide">√∑</button>
            <button class="btn btn-operator text-2xl p-4" onclick="appendInput('*')" aria-label="Multiply">√ó</button>

            <!-- Row 2 -->
            <button class="btn btn-operator text-2xl p-4" onclick="appendInput('-')" aria-label="Subtract">‚àí</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('7')" aria-label="Seven">7</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('8')" aria-label="Eight">8</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('9')" aria-label="Nine">9</button>

            <!-- Row 3 -->
            <button class="btn btn-operator text-2xl p-4 row-span-2" onclick="appendInput('+')" aria-label="Add">+</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('4')" aria-label="Four">4</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('5')" aria-label="Five">5</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('6')" aria-label="Six">6</button>

            <!-- Row 4 -->
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('1')" aria-label="One">1</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('2')" aria-label="Two">2</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('3')" aria-label="Three">3</button>
            <button class="btn btn-equals text-2xl p-4 row-span-2" onclick="showAnswer()" aria-label="Equals">=</button>

            <!-- Row 5 -->
            <button class="btn btn-number text-2xl p-4 col-span-2" onclick="appendInput('0')" aria-label="Zero">0</button>
            <button class="btn btn-number text-2xl p-4" onclick="appendInput('.')" aria-label="Decimal point">.</button>
        </div>
    </div>

    <script>
        const display = document.getElementById('display');
        let currentInput = '0';
        let isAnswerDisplayed = false;

        // Array of sweet and funny Filipino phrases
        const answers = [
            "I miss you",
            "Kape tayo?",
            "Ingat ka lagi",
            "Ikaw lang sapat na",
            "Sana all",
            "Mahal kita",
            "Wag na malungkot",
            "You're my sunshine",
            "Libre mo 'ko",
            "Pogi mo naman",
            "Ganda mo naman",
            "Crush kita",
            "Pahug naman",
            "Kamusta ka?",
            "Let's go on a date"
        ];
        
        let lastAnswerIndex = -1;

        // Function to update the display
        function updateDisplay() {
            // Adjust font size based on content length to prevent overflow
            if (currentInput.length > 15) {
                display.style.fontSize = '1.75rem'; // 28px for very long text
            } else if (currentInput.length > 8) {
                display.style.fontSize = '2.25rem'; // 36px for medium text
            } else {
                display.style.fontSize = '3rem'; // 48px for numbers
            }
            display.innerText = currentInput;
        }

        // Function to append input to the display
        function appendInput(value) {
            if (isAnswerDisplayed) {
                currentInput = '0';
                isAnswerDisplayed = false;
            }
            if (currentInput === '0' && value !== '.') {
                currentInput = value;
            } else {
                currentInput += value;
            }
            updateDisplay();
        }

        // Function to clear the display
        function clearDisplay() {
            currentInput = '0';
            isAnswerDisplayed = false;
            display.classList.remove('special-answer');
            updateDisplay();
        }

        // Function to remove last character
        function backspace() {
            if (isAnswerDisplayed) return;
            if (currentInput.length > 1) {
                currentInput = currentInput.slice(0, -1);
            } else {
                currentInput = '0';
            }
            updateDisplay();
        }

        // Function to show a random answer
        function showAnswer() {
            if (currentInput === '0' || isAnswerDisplayed) return;

            // Check for special combinations first
            if (currentInput === '22+22') {
                currentInput = 'deserve mo mag kape';
                display.classList.add('special-answer');
            } else if (currentInput === '69+69') {
                currentInput = 'Uy! May 5% discount ka sa coffee!';
                display.classList.add('special-answer');
            } else if (currentInput === '699+966') {
                currentInput = 'Free Americano';
                display.classList.add('special-answer');
            } else if (currentInput === '96*69') {
                currentInput = 'Ey! 5% discount sa pet grooming!';
                display.classList.add('special-answer');
            } else {
                // If it's not a special combo, get a random answer
                let randomIndex;
                do {
                    randomIndex = Math.floor(Math.random() * answers.length);
                } while (answers.length > 1 && randomIndex === lastAnswerIndex);
                
                lastAnswerIndex = randomIndex;
                currentInput = answers[randomIndex];
                display.classList.add('special-answer');
            }
            
            isAnswerDisplayed = true;
            updateDisplay();
        }

        // Keyboard support
        document.addEventListener('keydown', function(event) {
            if (event.key >= '0' && event.key <= '9') {
                appendInput(event.key);
            } else if (event.key === '.') {
                appendInput('.');
            } else if (event.key === '+') {
                appendInput('+');
            } else if (event.key === '-') {
                appendInput('-');
            } else if (event.key === '*') {
                appendInput('*');
            } else if (event.key === '/') {
                appendInput('/');
            } else if (event.key === 'Enter' || event.key === '=') {
                showAnswer();
            } else if (event.key === 'Escape') {
                clearDisplay();
            } else if (event.key === 'Backspace') {
                backspace();
            }
        });

        // Initialize display
        updateDisplay();
    </script>

</body>
</html>
